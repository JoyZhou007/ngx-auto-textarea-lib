!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core")):"function"==typeof define&&define.amd?define("ngx-auto-textarea",["exports","@angular/core"],e):e(t["ngx-auto-textarea"]={},t.ng.core)}(this,function(t,e){"use strict";var n=function(){function t(){}return t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ngInjectableDef=e.defineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}(),r=function(){function t(){}return t.prototype.getStringLocaleLen=function(t){if(!t)return 0;for(var e=0,n=/[a-z|A-Z|0-9]|[`|!|@|#|$|%|^|&|*|(|)|\-|_|+|{|}|<|>|?|,|.|/|[|'|;|:|"|\\]/gi,r=/\s/g,o=0;o<t.length;o++)n.lastIndex=0,n.test(t[o])||r.test(t[o])?e+=1:e+=3;return e},t.prototype.localeSubString=function(t,e,n){if(!t)return"";if(e>t.length)return"";for(var r=0,o="",a=/[a-z|A-Z|0-9]|[`|!|@|#|$|%|^|&|*|(|)|\-|_|+|{|}|<|>|?|,|.|/|[|'|;|:|"|\\]/gi,i=/\s/g,s=e;s<t.length&&(a.lastIndex=0,a.test(t[s])||i.test(t[s])?r+=1:r+=3,!(n<r));s++)o+=t[s];return o},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[]},t.ngInjectableDef=e.defineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}(),o=function(){function t(){this.maxLength=500}return t.prototype.ngOnInit=function(){},t.decorators=[{type:e.Component,args:[{selector:"lib-ngx-auto-textarea",template:'\n    <textarea class="ipt-btn" type="text" #ipt\n              libNgxAutoTextarea [appMaxLength]="maxLength"\n    > </textarea>\n  ',styles:[".ipt-btn{width:100%;height:10px;border:1px solid #4080cf;border-radius:5px;padding:5px 10px;line-height:20px;background-color:#fff;box-sizing:border-box}"]}]}],t.ctorParameters=function(){return[]},t.propDecorators={maxLength:[{type:e.Input}]},t}(),a=function(){function t(t,e){this.element=t,this.typeService=e,this.adjustHeight()}return t.prototype.onInput=function(t){this.adjustHeight()},t.prototype.blur=function(t){console.log("监听失去焦点"),this.adjustHeight()},t.prototype.focus=function(t){console.log("监听焦点"),this.adjustHeight()},t.prototype.adjustHeight=function(t){t||(t=10);var e=this.element.nativeElement;this.appMaxLength&&(this.typeService.getStringLocaleLen(e.value)>this.appMaxLength&&(this.element.nativeElement.value=this.typeService.localeSubString(e.value,0,this.appMaxLength)));var n=e.offsetHeight-e.clientHeight;e.style.height=0,console.log("sdasd",e.scrollHeight+n),e.style.height=Math.max(t,e.scrollHeight+n)+"px"},t.decorators=[{type:e.Directive,args:[{selector:"[libNgxAutoTextarea]"}]}],t.ctorParameters=function(){return[{type:e.ElementRef},{type:r}]},t.propDecorators={appMaxLength:[{type:e.Input}],onInput:[{type:e.HostListener,args:["input",["$event.target"]]}],blur:[{type:e.HostListener,args:["blur",["$event.target"]]}],focus:[{type:e.HostListener,args:["focus",["$event.target"]]}]},t}(),i=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[],declarations:[o,a],exports:[o,a]}]}],t}();t.NgxAutoTextareaService=n,t.TypeService=r,t.NgxAutoTextareaComponent=o,t.NgxAutoTextareaModule=i,t.NgxAutoTextareaDirective=a,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-auto-textarea.umd.min.js.map